[#s2,reftext=S.2]
=== (S.2) Functionality

ifdef::env-draft[]
TIP: _**This is the bulk of the System book, describing elements of functionality (behaviors)**. This chapter corresponds to the traditional view of requirements as defining "**what the system does**”. It is organized as one section, S.2.n, for each of the components identified in <<s1>>, describing the corresponding behaviors (functional and non-functional properties)._  <<BM22>>
endif::[]

The SocialEyes-based system operates in two primary modes: a recording mode for offline data collection and post-hoc analysis, and a streaming mode for real-time data processing and visualization. Each component contributes to these modes to enable synchronized multi-person gaze analytics, storage, and visualization for classroom environments.

The system’s functionality is organized according to its major components, as described in <<s1>>. Each subsection defines the principal behaviors (functional and non-functional) of that component.

==== Functional Requirements

The following tables enumerate the functional requirements (FRs) of the SocialEyes system.  
Requirements are categorized according to implementation phase:

* **Rev 0 Functional Requirements** – essential capabilities forming the proof-of-concept deliverable (single-device ingestion, basic analytics, and dashboard visualization).  
* **Stretch / Future Functional Requirements** – enhancements planned for Rev 1 or later (multi-device scaling, additional roles, and extended analytics).

Each requirement corresponds to one or more components described in <<s1>> and detailed in sections S.2.1–S.2.6.  
Each entry includes a short *Rationale* describing its purpose or necessity.

===== Data Acquisition and Ingestion

[cols="1,3,3",options="header"]
|===
| ID | Requirement | Rationale

| FR-1 | The system shall support two operational modes: (a) Recording mode for offline data capture and post-hoc analysis, and (b) Streaming mode for real-time data processing and visualization. | Enables both real-time classroom monitoring and offline analysis, providing flexibility for research and proof-of-concept testing.  
| FR-2 | The system shall allow an instructor to initiate, pause, resume, and terminate classroom recording sessions via the dashboard or command-line interface. | Gives instructors operational control during lectures, ensuring ethical compliance and preventing unintended data collection.  
| FR-3 | The system shall interface with supported eye-tracking devices to collect synchronized gaze, eye, and egocentric view (egoview) video data via an external API, as defined in <<e3>>. | Provides the core input pipeline for all downstream analytics while maintaining compatibility with external device APIs (see <<e3>> Integration and Dependencies).
| FR-5 | The system shall synchronize incoming data streams using the Time Synchronization Service (NTP) to maintain consistent timestamps across devices. | Ensures temporal alignment of gaze and video data, which is essential for accurate gaze projection and group analysis.  
| FR-6 | The system shall resume data collection within 5 seconds after a transient connection loss is detected. | Ensures continuity of recordings when short-term connectivity issues occur, allowing uninterrupted data capture during sessions.
// Added from Hazard Analysis (HA)
| FR-19 | The system shall perform an automatic calibration check for each connected eye-tracking device before starting a recording session. | Prevents inaccurate or unsafe data collection due to calibration drift or misalignment, reducing likelihood of unusable or misleading gaze data.  
|===

===== Data Processing and Analytics

[cols="1,3,3",options="header"]
|===
| ID | Requirement | Rationale

| FR-7 | The system shall perform data filtering and calibration correction to remove noise, blinks, and miscalibrations in gaze and video streams. | Improves data quality to ensure that computed attention metrics are reliable and representative of true gaze behavior.  
| FR-8 | The system shall project gaze points from each participant’s egoview into a shared coordinate space to enable collective gaze alignment. | Enables multi-person gaze comparison and visualization within a common spatial reference. (Implementation may employ homography-based or equivalent methods as described in the Development Plan.) 
| FR-9 | The system shall compute real-time engagement and attention metrics, including gaze velocity, entropy, and normalized contour area. | Transforms raw gaze data into interpretable analytics, supporting real-time instructional feedback and research insights.  
| FR-10 | The system shall generate post-session summary analytics, including heatmaps, time-series graphs, and participant-level statistics. | Provides instructors and researchers with aggregated results for reflection, evaluation, and long-term study of learning patterns.  
| FR-24 | The system shall allow replay of recorded sessions to verify synchronization accuracy and re-run analytics for validation purposes. | Supports verification and debugging of synchronization and algorithmic accuracy, facilitating iterative system improvement.
// Added from Hazard Analysis (HA)
| FR-20 | The system shall detect and flag off-screen or invalid gaze points during real-time and post-session analysis and exclude them from aggregate engagement metrics. | Enables data quality validation and prevents misinterpretation of gaze locations outside the intended scene.
|===

===== Data Management and Backend Services

[cols="1,3,3",options="header"]
|===
| ID | Requirement | Rationale

| FR-11 | The system shall store raw and processed data in a local database and support optional upload to an external cloud service. | Ensures secure, persistent data storage with flexibility for both local development and cloud-based post-processing (see <<e3>> Integration and Dependencies).
| FR-12 | The system shall ensure that each session includes metadata such as timestamp, participant ID, and session ID. | Enables traceability between raw data, analytics, and reports, and supports ethical recordkeeping of anonymized participants.  
| FR-13 | The system shall expose programmatic APIs for analytics retrieval and session management. | Enables the dashboard and external tools to query analytics and control sessions, supporting modularity and extensibility. (Implementation framework noted in Development Plan.)
| FR-22 | The system shall maintain traceability of session data, linking raw data, analytics, and reports via unique session identifiers. | Guarantees data provenance and reproducibility, which are critical for academic research validation.  
| FR-23 | The system shall allow users to modify operational parameters (e.g., device ID, data directory, export format) through configuration files or dashboard settings. | Provides flexible setup for various classroom and research environments without requiring code changes. 
|===

===== Visualization and Dashboard Interface

[cols="1,3,3",options="header"]
|===
| ID | Requirement | Rationale

| FR-14 | The system shall enforce role-based authentication and authorization, permitting access only to approved users (e.g., instructor). | Protects sensitive classroom data and enforces ethical data access control consistent with research policies.  
| FR-15 | The dashboard shall display real-time visual analytics, including heatmaps, attention indicators, and engagement metrics. | Provides instructors with immediate, actionable feedback on student engagement during lectures.  
| FR-16 | The dashboard shall allow users to export post-session analytics and visualizations in common formats (CSV, JSON, PNG). | Facilitates sharing of results for research analysis, record-keeping, and reporting.
// Added from Hazard Analysis (HA)
| FR-26 | The dashboard shall display real-time system status indicators, including end-to-end latency, stream health (e.g., packet loss/jitter), and synchronization drift. | Provides instructors with actionable awareness of system performance during sessions, supporting early intervention and transparency.
// Added from Hazard Analysis (HA)
| FR-27 | The system shall support definable spatial masks (exclusion zones) for egoview and/or centralview such that out-of-bounds regions are excluded or anonymized from storage and export. | Enforces privacy boundaries and prevents accidental recording of restricted regions or bystanders.
|===

===== Supporting Infrastructure and Deployment

[cols="1,3,3",options="header"]
|===
| ID | Requirement | Rationale

| FR-18 | The system shall log runtime events and performance metrics to support diagnostics, error detection, and long-term monitoring. | Enables visibility into system health and performance across classroom sessions. (Example monitoring tools listed in <<p5>> Development Plan.) 
//Move to Dev Plan
// | FR-20 | The system shall include continuous integration (CI/CD) pipelines to automatically execute build, lint, and test workflows prior to deployment. | Promotes maintainability and code quality, reducing risk of regressions across updates.  
|===

---

==== Stretch Functional Requirements

[cols="1,3,3",options="header"]
|===
| ID | Requirement | Rationale

| FR-4 | The system shall optionally interface with an external Central Camera video feed to capture a shared classroom scene for multi-person gaze alignment. | Enables scaling from single-device to multi-person analysis, supporting richer collaborative gaze insights. (Camera hardware defined as an external environment component in <<e2>>.)  
| FR-17 | The system shall provide separate role-based views for instructors and researchers, limiting access according to role permissions. | Enhances usability and compliance by tailoring interface access to user responsibilities.  
| FR-21 | The system shall implement privacy and anonymization features, including masking of identifiable faces or eye images in exported visualizations. | Ensures ethical compliance and participant anonymity when sharing or presenting visual data.  
| FR-25 | The system shall support scaling to multiple Pupil Labs Neon devices (target ≥ 10) during live streaming, maintaining inter-device synchronization accuracy within ± 20 ms, consistent with benchmarks established in the SocialEyes reference framework [subject to validation during Rev 1 testing]. | Expands classroom-scale functionality, validating the SocialEyes framework’s scalability in real-world educational settings.  
|===

==== Non-Functional Requirements

The following non-functional requirements define qualitative properties that our work on the SocialEyes system must meet.
They specify the performance, reliability, usability, security, and maintainability targets associated with the functional behaviour described above.

[cols="1,3,3",options="header"]
|===
| ID | Requirement | Rationale

| NFR-1 | Real-time gaze data shall be processed and visualized with an end-to-end latency of *TBD* seconds (expected ≤ 1 s, as per SocialEyes benchmark). | Ensures instructors receive timely engagement feedback during classroom activities.  
| NFR-2 | The system shall maintain an update frequency of *TBD* Hz for live gaze visualization (SocialEyes implementation demonstrated ~20 Hz rendering). | Provides smooth real-time rendering suitable for classroom demonstrations.  
| NFR-3 | During multi-device operation, synchronization accuracy shall remain within ± 20 ms across all devices. | Preserves precise temporal alignment for multi-person gaze analysis, consistent with SocialEyes reference results.  
| NFR-4 | The data-streaming pipeline shall tolerate network jitter of up to *TBD* ms without dropping more than *TBD %* of packets. | Supports robustness under variable Wi-Fi conditions expected in classroom environments.  
| NFR-5 | System reliability shall ensure automatic recovery from transient device disconnections without data corruption (target reconnection time *TBD s*). | Maintains continuous recording sessions in live environments.  
| NFR-6 | The system shall achieve *TBD %* uptime during scheduled classroom sessions. | Guarantees dependable operation throughout lectures.  
| NFR-7 | Dashboard interface shall be operable by a first-time instructor with ≤ *TBD minutes* of onboarding. | Ensures intuitive usability for non-technical users.  
| NFR-8 | Interface elements shall maintain legible contrast ratios meeting *TBD* accessibility standard (e.g., WCAG AA). | Promotes accessibility in varied classroom lighting.  
| NFR-9 | All network communication shall use encrypted protocols (HTTPS or equivalent). | Protects participant data during streaming and storage.  
| NFR-10 | All analytics and dashboard endpoints shall require authenticated access using role-based access control (RBAC). | Prevents unauthorized access to classroom data.  
| NFR-11 | Gaze and video data shall be stored only in anonymized form; identifiers replaced by pseudonyms or session IDs. | Complies with institutional research-ethics requirements.  
| NFR-12 | The system shall operate correctly on Windows, macOS, and Ubuntu platforms within containerized runtime environments. (See <<e3>> Infrastructure and Environment.) | Ensures reproducible deployment and consistent execution across supported platforms, aligning with environment constraints and engineering decisions.  
| NFR-13 | Source code shall conform to ESLint/Prettier (JavaScript) and PEP 8 (Python) standards. | Maintains consistent style and readability across modules.  
| NFR-14 | The development process shall include automated build and test pipelines that verify code quality and detect regressions prior to deployment | Promotes maintainability and reliability of the software throughout iterative updates.   
| NFR-15 | System configuration parameters shall be externally defined and modifiable without altering source code. (See <<e3>> Integration and Dependencies.) | Ensures secure, flexible deployment across different environments and prevents exposure of sensitive information.  
| NFR-16 | The architecture shall support scaling to at least 10 simultaneous devices without exceeding ± 20 ms synchronization error. | Enables future classroom-scale studies using multiple Neons, matching SocialEyes benchmarks.  
| NFR-17 | Storage systems shall retain timestamp accuracy within ± 1 frame (≈ 33 ms) and ensure ACID transactional integrity. | Guarantees valid time-series analysis and prevents partial data corruption.  
| NFR-18 | The system shall accommodate up to *TBD GB* of data per session without performance degradation. | Supports multi-hour recordings for research analysis.  
| NFR-19 | All software components shall remain compliant with their respective open-source licenses, including the Non-Commercial Research License (NCRL-1.0) governing the SocialEyes framework. (See <<e3>> Legal and Licensing.) | Ensures continued legal and ethical operation within academic research contexts.  
| NFR-20 | The system shall be restricted to academic and non-commercial research use only, in accordance with licensing and institutional ethics policies. (See <<e3>> Legal and Licensing.) | Ensures compliance with usage restrictions defined by the SocialEyes framework and institutional research ethics agreements.
// NFRs Below added from Hazard Analysis (HA)
| NFR-21 | The system shall undergo iterative usability and user-centered design testing with instructors and student participants prior to deployment. | Ensures interface ergonomics and comprehension are validated, minimizing operational errors and user frustration.  
| NFR-22 | All data analysis models and engagement metrics shall be validated using representative test datasets and reviewed by research supervisors for methodological bias. | Prevents analytical bias or incorrect interpretations that could misrepresent student engagement.  
| NFR-23 | Experimental setup shall comply with documented calibration, lighting, and environmental protocols defined in <<e3>> and the development plan. | Maintains measurement consistency and validity across classroom environments.  
| NFR-24 | The system shall provide explicit consent and participant briefing interfaces or procedures prior to data collection, ensuring informed consent is recorded. | Guarantees ethical compliance and participant understanding of data use.  
| NFR-25 | The system shall minimize physical and psychological discomfort for participants during recording sessions. | Reduces participant fatigue and behavioral changes (Hawthorne effect), preserving authentic engagement measures.  
| NFR-26 | The storage subsystem shall perform automated, encrypted backups at least once every 24 hours (configurable) and verify restore integrity at least once per release cycle, logging verification results in system diagnostics. | Ensures recoverability and data integrity in the event of hardware or software failure.  
|===

.Data Flow Sequence During Classroom Session
image::socialeyes-sequence.svg[width=100%, alt="Data Flow Sequence During Classroom Session"]
This sequence diagram illustrates the flow of data during both recording (offline) and streaming (real-time) modes, showing how gaze, video, and analytics information move between the system’s major components.


[#s2.1]
==== (S.2.1) Data Ingestion Module
- Collects gaze coordinates, eye images, and egoview video streams from Pupil Labs Neon devices via the Neon Companion App API.
- Operates in both recording (offline storage) and streaming (real-time transmission) modes.
- Uses Network Time Protocol (NTP) to synchronize timestamps across multiple devices for accurate multi-stream alignment.
- Supports ingestion of a central camera feed (centralview) to provide a shared classroom scene for homography-based mapping.
- Employs Kafka producers for low-latency data streaming and fault-tolerant buffering in real-time mode.
- Detects and recovers from connection issues such as device dropouts or packet loss.
// - [TBD with supervisors: Confirm need for integration with Central Camera feed and multi-device scaling for initial proof-of-concept.]

[#s2.2]
==== (S.2.2) Data Processing & Analytics
- Performs data filtering (noise reduction, blink removal) and calibration corrections on incoming gaze and video streams.
- Executes homography-based gaze projection, mapping each viewer’s egoview gaze data onto the shared central camera view.
- Computes both real-time and post-session metrics, including gaze velocity, entropy, heatmap similarity, and normalized contour area to quantify attention and engagement.
- Generates heatmaps, visual overlays, and summary statistics for collective gaze behavior analysis.
- Balances computational efficiency and accuracy through lightweight algorithms suitable for classroom-scale use.
// - [TBD with supervisors: Define privacy/anonymization requirements (e.g., masking faces or anonymizing device identifiers).]

[#s2.3]
==== (S.2.3) Backend Services
- Hosts REST/GraphQL APIs (via Flask) for dashboard communication, session management, and data retrieval.
- Manages session lifecycle operations such as start, stop, and resume.
- Integrates with Kafka consumers to process real-time streams and forward processed results to the dashboard and analytics modules.
- Enforces authentication and authorization for all API requests and role-based access.
- Provides a Flask-based monitoring interface for real-time verification of data integrity, device status, and stream quality.
- Supports automated build, linting, and test pipelines through GitHub Actions CI/CD for continuous delivery.
// - [TBD with supervisors: Confirm scope of external integrations (e.g., Pupil Cloud synchronization, LMS links) in Rev 0 vs later milestones.]

[#s2.4]
==== (S.2.4) Database / Storage
- Stores synchronized gaze data, egoview and centralview recordings, and derived analytics outputs.
- Supports both local databases (SQLite or PostgreSQL) for development and remote storage (Pupil Cloud) for post-processing.
- Enables real-time data access for visualization while maintaining persistence for post-session replay and analysis.
- Implements configurable retention and anonymization policies to protect participant data and comply with ethical guidelines.
// - [TBD with supervisors: Determine whether long-term archival or only short-term proof-of-concept storage is required.]

[#s2.5]
==== (S.2.5) Instructor Dashboard (Frontend)
- Provides an intuitive React + TypeScript interface for instructors and researchers to visualize gaze analytics.
- Displays real-time heatmaps, focus indicators, and group engagement metrics generated by the Analytics module.
- Presents post-session summaries and trend reports for comparative study of classroom attention patterns.
- Supports role-based access control and secure login consistent with backend authentication.
- Allows data and report export (e.g., CSV, JSON, or graphical formats) for documentation and further research.
// - [TBD with supervisors: Confirm whether LMS integration (e.g., Avenue to Learn) or external data export is required at this stage.]

[#s2.6]
==== (S.2.6) Supporting Infrastructure
- Authentication & Access Control: Implements secure login, session tokens, and role-based user management for instructors and researchers.
- Error Logging & Monitoring: Collects system health metrics, stream latency, and runtime errors using integrated Grafana/Prometheus dashboards.
- Time Synchronization Service (NTP): Ensures uniform timestamps across all devices, enabling consistent temporal alignment in analytics.
- Deployment / Runtime Environment: Utilizes Docker containers for reproducibility, isolated builds, and cross-platform deployment.
- Continuous Integration (CI/CD): Automates testing, linting, and deployment workflows using GitHub Actions to maintain code quality.
// - [Optional Simulation/Test Harness] - TBD with supervisors: develop replay utilities to simulate recorded sessions for verification and future testing.

[#s2.7]
==== (S.2.7) Requirements Traceability Matrix
[cols="1,2,2,3",options="header"]
|===
| Req ID | Related Components (S.1) | Environment Reference (E.#) | Rationale / Trace Justification

| FR-1 | Data Ingestion Module; Instructor Dashboard | E.2 Hardware Components; E.4 Classroom and Connectivity | Derived from environment need for both live and offline operation; supported by device connectivity constraints.  
| FR-2 | Instructor Dashboard; Backend Services | E.3 Privacy and Ethics; E.4 Operational Context | Ensures instructor control over data collection to comply with ethical and operational constraints.  
| FR-3 | Data Ingestion Module; Backend Services | E.3 Integration and Dependencies | Enforces compatibility with external APIs (Pupil Labs) as defined in environmental dependencies.  
| FR-5 | Time Synchronization Service (NTP); Data Ingestion Module | E.6 Data Integrity | Derived from synchronization invariants ensuring multi-device timestamp alignment.  
| FR-6 | Data Ingestion Module; Backend Services | E.3 Infrastructure and Environment | Supports resilience to transient network failures in classroom Wi-Fi conditions.  

// Added from Hazard Analysis (HA)
| FR-19 | Data Ingestion Module; Pupil Labs Interface | E.3 Integration and Dependencies; E.4 Hardware Availability | Derived from hazard mitigation requiring pre-session calibration to prevent inaccurate data capture (H-01).  

| FR-7 | Data Processing & Analytics Module | E.4 Data and Usage | Improves data quality to meet assumed gaze reliability and calibration properties.  
| FR-8 | Data Processing & Analytics Module | E.2 Software/Framework Components; E.3 Engineering Decisions | Relies on SocialEyes framework and environmental setup supporting shared-space mapping.  
| FR-9 | Data Processing & Analytics Module; Instructor Dashboard | E.5 Effects on Instructors | Enables real-time engagement visualization influencing classroom interaction.  
| FR-10 | Data Processing & Analytics Module; Database/Storage Layer | E.4 Data and Usage; E.5 Effects on Future Research | Supports post-session analysis aligned with research and reflection goals.  

// Added from Hazard Analysis (HA)
| FR-20 | Data Processing & Analytics Module; Validation Subsystem | E.3 Infrastructure and Environment | Mitigates hazard of off-screen or invalid gaze data (H-02) through automatic detection and flagging.  

| FR-11 | Database / Storage Layer; Backend Services | E.3 Integration and Dependencies | Implements persistent local storage and optional cloud integration as defined in environment.  
| FR-12 | Database / Storage Layer; Backend Services | E.6 Data Integrity | Captures metadata for session traceability, ensuring provenance preservation.  
| FR-13 | Backend Services; Instructor Dashboard | E.2 Software/Framework Components | Exposes APIs consistent with modular, externally interfaced systems.  
| FR-14 | Authentication & Access Control; Instructor Dashboard | E.6 System Reliability and Security | Enforces restricted data access per institutional security invariants.  
| FR-15 | Instructor Dashboard; Data Processing & Analytics Module | E.5 Effects on Instructors | Provides actionable real-time analytics aligned with classroom impact.  
| FR-16 | Instructor Dashboard; Database / Storage Layer | E.4 Data and Usage | Supports data export consistent with research analysis workflows.  
| FR-17 | Instructor Dashboard; Authentication & Access Control | E.3 Privacy and Ethics | Enforces separation of researcher and instructor roles to uphold ethical use.  
| FR-18 | Error Logging & Monitoring; Deployment / Runtime Environment | E.3 Infrastructure and Environment | Derived from the need for reliability in classroom deployments.  
| FR-21 | Privacy / Anonymization Layer; Visualization Module | E.3 Privacy and Ethics; E.6 Privacy and Ethics | Implements required data masking per ethical constraints.  
| FR-22 | Database / Storage Layer; Backend Services | E.6 Data Integrity | Ensures traceable linkage across stored data and analytics.  
| FR-23 | Backend Services; Instructor Dashboard | E.4 Hardware Availability; E.3 Integration and Dependencies | Supports flexible configuration to adapt to varying classroom and device setups.  
| FR-24 | Data Processing & Analytics Module; Database / Storage Layer | E.6 Data Integrity | Provides validation and debugging of synchronization requirements.  
| FR-25 | Data Ingestion Module; Time Synchronization Service | E.3 Performance and Responsiveness; E.6 Data Integrity | Extends scalability to multiple synchronized devices under environmental timing limits.  

// Added from Hazard Analysis (HA)
| FR-26 | Instructor Dashboard; Monitoring Subsystem | E.3 Performance and Responsiveness; E.5 Effects on Instructors | Introduced from hazard analysis to surface latency and stream-health indicators (H-05), enabling real-time instructor awareness.  

// Added from Hazard Analysis (HA)
| FR-27 | Privacy / Anonymization Layer; Visualization Module | E.3 Privacy and Ethics; E.5 Effects on Classroom Dynamics | Derived from hazard analysis to prevent unintended recording of restricted or private areas (H-04).  

| NFR-1 | Data Processing & Analytics Module; Instructor Dashboard | E.3 Performance and Responsiveness | Derived from real-time latency constraints in classroom settings.  
| NFR-2 | Data Processing & Analytics Module | E.3 Performance and Responsiveness | Reflects frame update requirements for smooth visualization.  
| NFR-3 | Time Synchronization Service; Data Ingestion Module | E.6 Data Integrity | Validates synchronization accuracy invariant.  
| NFR-4 | Data Ingestion Module; Backend Services | E.3 Infrastructure and Environment | Ensures resilience to Wi-Fi variability.  
| NFR-5 | Backend Services; Database / Storage Layer | E.6 System Reliability | Supports automatic recovery under transient disconnects.  
| NFR-6 | Backend Services; Error Logging & Monitoring | E.3 Infrastructure and Environment | Reflects uptime and reliability expectations.  
| NFR-7 | Instructor Dashboard | E.4 Operational Context | Derived from assumption of non-technical instructor users.  
| NFR-8 | Instructor Dashboard | E.3 Performance and Responsiveness | Ensures accessibility compliance under classroom conditions.  
| NFR-9 | Backend Services; Networking Layer | E.6 System Reliability and Security | Enforces encrypted communication invariant.  
| NFR-10 | Authentication & Access Control; Backend Services | E.6 System Reliability and Security | Enforces authenticated, role-based access per security invariants.  
| NFR-11 | Database / Storage Layer; Privacy / Anonymization Layer | E.3 Privacy and Ethics; E.6 Privacy and Ethics | Enforces anonymization constraint on gaze data storage.  
| NFR-12 | Deployment / Runtime Environment | E.3 Infrastructure and Environment | Ensures cross-platform containerized deployment as defined by environment.  
| NFR-13 | Backend Services; Data Processing & Analytics Module | E.3 Engineering Decisions | Supports consistent code standards for maintainability.  
| NFR-14 | Development Infrastructure | P.5 Development Plan | Ensures maintainability through automated build and test pipelines.  
| NFR-15 | Backend Services; Configuration Subsystem | E.3 Integration and Dependencies | Ensures secure and flexible parameter management per environmental integration constraints.  
| NFR-16 | Data Ingestion Module; Time Synchronization Service | E.3 Performance and Responsiveness | Confirms scalability limits consistent with timing constraints.  
| NFR-17 | Database / Storage Layer | E.6 Data Integrity | Maintains timestamp precision and ACID compliance.  
| NFR-18 | Database / Storage Layer; Backend Services | E.4 Data and Usage | Supports large-session data handling per assumed classroom research scale.  
| NFR-19 | Entire System | E.3 Legal and Licensing | Ensures compliance with open-source licensing (NCRL-1.0).  
| NFR-20 | Entire System | E.3 Legal and Licensing | Restricts use to non-commercial research per institutional policy.  
// Below added from Hazard Analysis (HA)
| NFR-21 | Instructor Dashboard; Usability Evaluation Subsystem | E.4 Operational Context | Introduced to ensure user-centered design validation, addressing hazards of user confusion or error (H-08).  
| NFR-22 | Data Processing & Analytics Module; Research Oversight | E.5 Effects on Future Research | Added from hazard analysis to mitigate risk of biased or invalid analytics (H-07).  
| NFR-23 | Data Ingestion Module; Deployment / Runtime Environment | E.3 Engineering Decisions; E.4 Classroom and Connectivity | Derived from hazard analysis to ensure consistent calibration and environmental protocol compliance (H-01, H-07).  
| NFR-24 | Instructor Dashboard; Backend Services | E.3 Privacy and Ethics | Derived from hazard analysis to ensure informed participant consent before recording (H-06).  
| NFR-25 | System Hardware Interfaces; Classroom Setup | E.5 Effects on Students | Derived from hazard analysis to minimize participant discomfort and behavioral disruption (H-09).  
| NFR-26 | Database / Storage Layer; Backup Subsystem | E.3 Infrastructure and Environment; E.6 Data Integrity | Derived from hazard analysis to ensure recoverability and restore verification (H-03).  
|===

[#s2-hazard,reftext=S.2.8]
=== (S.2.8) Hazard–Requirement Traceability

This section maps identified hazards from the Hazard Analysis (HA) to the system requirements that mitigate them.

Survey collection and analysis were considered during the Hazard Analysis but excluded from the current system scope as per the Problem Statement and Development Plan deliverables. They may be addressed in future extensions involving multimodal learning data.

[cols="1,3,3",options="header"]
|===
| Hazard ID | Description | Mitigating Requirement(s)

| H-01 | Calibration drift or misalignment - Inaccurate eye-tracker calibration may produce invalid gaze data leading to incorrect analytics or interpretations. | FR-19 (auto calibration check, derived from HA); FR-7 (filtering/correction); NFR-23 (environmental protocol compliance)

| H-02 | Off-screen or invalid gaze points - Erroneous gaze coordinates may appear outside intended visual bounds and distort engagement metrics. | FR-20 (flag invalid gaze points, derived from HA); FR-8 (gaze projection)

| H-03 | System or data corruption due to hardware/network failure - Unreliable connectivity or crashes may lead to incomplete or lost data. | FR-6 (reconnection), FR-18 (logging), NFR-17 (integrity), NFR-26 (automated backup & verification, derived from HA)

| H-04 | Privacy breach or recording of bystanders - Scene data may capture individuals or regions outside the intended study area. | FR-27 (spatial masks, derived from HA), FR-21 (visual anonymization), NFR-11 (data anonymization), NFR-9 (encryption)

| H-05 | User unaware of latency or stream failure - Instructors may continue teaching unaware of performance degradation. | FR-26 (dashboard latency/status indicators, derived from HA), NFR-1 (latency constraint)

| H-06 | Participant not fully informed or not consenting - Recording may occur without explicit acknowledgment. | FR-2 (instructor control), NFR-24 (participant consent, derived from HA), E.3 Privacy and Ethics constraints

| H-07 | Analytical bias or invalid engagement metrics - Models may be unvalidated or based on biased datasets. | NFR-22 (model validation and bias review, derived from HA), FR-9 (metric computation), NFR-23 (protocol compliance)

| H-08 | Instructor interface confusion or usability issues - Non-technical users may make operational errors leading to data loss or incorrect session setup. | NFR-7 (usability), NFR-21 (user-centered design validation, derived from HA)

| H-09 | Participant discomfort or distraction - Wearable devices or monitoring may affect participant comfort and natural behavior. | NFR-25 (participant comfort, derived from HA), E.5 Effects (on classroom dynamics)

| H-10 | Violation of institutional data policy or research ethics - Improper storage, licensing, or use beyond academic scope. | NFR-19 (license compliance), NFR-20 (non-commercial restriction), NFR-11 (anonymization), E.3 Legal and Licensing

|===

Note:
Hazards H-01–H-10 were analyzed in the Hazard Analysis (HA) using Failure Mode and Effects Analysis (FMEA).  
Requirements FR-19, FR-20, FR-26, FR-27, and NFR-21–NFR-26 were directly derived from HA mitigation actions.  
All other existing requirements support or reinforce these mitigations.
